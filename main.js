(()=>{"use strict";const e=()=>{const e=document.getElementById("project-list");e.textContent="";const o=document.getElementById("note-content-title");T.projectArray.forEach(((i,s)=>{if("Home"!==i){const d=document.createElement("div");d.classList.add("project-container");const r=document.createElement("li");r.setAttribute("id","project-item");const a=document.createElement("div");a.classList.add("project-text"),a.innerHTML=i;const c=document.createElement("button");c.classList.add("del__btn-2"),c.classList.add("glass-two"),c.setAttribute("id","project-delete"),c.setAttribute("array-delete-pos",`${s}`),c.innerHTML="<i class='bx bx-trash'></i>",r.appendChild(a),d.appendChild(r),d.appendChild(c),e.appendChild(d),c.addEventListener("click",(()=>{t(s),o.innerText="Home",T.project="Home",B()})),r.addEventListener("click",(()=>{n(s),console.log(T.project),B()}))}}))},t=t=>{T.projectArray.splice(t,1),(()=>{let e=T.storeTodo.filter((e=>!T.projectArray.includes(e.project)));T.storeTodo=T.storeTodo.filter((t=>!e.includes(t))),console.log(T.storeTodo),B()})(),e()},n=e=>{document.getElementById("note-content-title").innerHTML=T.projectArray[e],T.project=T.projectArray[e],T.selectedProject=T.projectArray[e]};function o(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function s(e){o(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===i(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function d(e){o(1,arguments);var t=s(e);return t.setHours(0,0,0,0),t}Math.pow(10,8);var r=6e4,a=36e5;function c(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function l(e,t){var n;o(1,arguments);var i=c(null!==(n=null==t?void 0:t.additionalDigits)&&void 0!==n?n:2);if(2!==i&&1!==i&&0!==i)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!=typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var s,d=function(e){var t,n={},o=e.split(m.dateTimeDelimiter);if(o.length>2)return n;if(/:/.test(o[0])?t=o[0]:(n.date=o[0],t=o[1],m.timeZoneDelimiter.test(n.date)&&(n.date=e.split(m.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length))),t){var i=m.timezone.exec(t);i?(n.time=t.replace(i[1],""),n.timezone=i[1]):n.time=t}return n}(e);if(d.date){var l=function(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),o=e.match(n);if(!o)return{year:NaN,restDateString:""};var i=o[1]?parseInt(o[1]):null,s=o[2]?parseInt(o[2]):null;return{year:null===s?i:100*s,restDateString:e.slice((o[1]||o[2]).length)}}(d.date,i);s=function(e,t){if(null===t)return new Date(NaN);var n=e.match(u);if(!n)return new Date(NaN);var o=!!n[4],i=g(n[1]),s=g(n[2])-1,d=g(n[3]),r=g(n[4]),a=g(n[5])-1;if(o)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,r,a)?function(e,t,n){var o=new Date(0);o.setUTCFullYear(e,0,4);var i=7*(t-1)+n+1-(o.getUTCDay()||7);return o.setUTCDate(o.getUTCDate()+i),o}(t,r,a):new Date(NaN);var c=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(L[t]||(h(e)?29:28))}(t,s,d)&&function(e,t){return t>=1&&t<=(h(e)?366:365)}(t,i)?(c.setUTCFullYear(t,s,Math.max(i,d)),c):new Date(NaN)}(l.restDateString,l.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var E,f=s.getTime(),I=0;if(d.time&&(I=function(e){var t=e.match(v);if(!t)return NaN;var n=y(t[1]),o=y(t[2]),i=y(t[3]);return function(e,t,n){return 24===e?0===t&&0===n:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,o,i)?n*a+o*r+1e3*i:NaN}(d.time),isNaN(I)))return new Date(NaN);if(!d.timezone){var T=new Date(f+I),b=new Date(0);return b.setFullYear(T.getUTCFullYear(),T.getUTCMonth(),T.getUTCDate()),b.setHours(T.getUTCHours(),T.getUTCMinutes(),T.getUTCSeconds(),T.getUTCMilliseconds()),b}return E=function(e){if("Z"===e)return 0;var t=e.match(p);if(!t)return 0;var n="+"===t[1]?-1:1,o=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return function(e,t){return t>=0&&t<=59}(0,i)?n*(o*a+i*r):NaN}(d.timezone),isNaN(E)?new Date(NaN):new Date(f+I+E)}var m={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},u=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,v=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,p=/^([+-])(\d{2})(?::?(\d{2}))?$/;function g(e){return e?parseInt(e):1}function y(e){return e&&parseFloat(e.replace(",","."))||0}var L=[31,null,31,30,31,30,31,31,30,31,30,31];function h(e){return e%400==0||e%4==0&&e%100!=0}var E={};function f(){return E}function I(e,t){var n,i,d,r,a,l,m,u;o(1,arguments);var v=f(),p=c(null!==(n=null!==(i=null!==(d=null!==(r=null==t?void 0:t.weekStartsOn)&&void 0!==r?r:null==t||null===(a=t.locale)||void 0===a||null===(l=a.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==d?d:v.weekStartsOn)&&void 0!==i?i:null===(m=v.locale)||void 0===m||null===(u=m.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==n?n:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=s(e),y=g.getDay(),L=(y<p?7:0)+y-p;return g.setDate(g.getDate()-L),g.setHours(0,0,0,0),g}const T={storeTodo:[],priority:void 0,arrayIndex:void 0,project:"Home",projectArray:["Home"],selectedProject:void 0,projectInTodos:void 0},b=!1,w=()=>{localStorage.setItem("todos",JSON.stringify(T.storeTodo))},B=()=>{const t=document.getElementById("inputed-items");t.innerHTML="";let n=JSON.parse(localStorage.getItem("todos"));n?n&&n.forEach(((n,i)=>{if(T.project===n.project||"Home"===T.project||"Today"===T.project&&function(e){return o(1,arguments),function(e,t){o(2,arguments);var n=d(e),i=d(t);return n.getTime()===i.getTime()}(e,Date.now())}(l(n.date))||"Week"===T.project&&function(e,t){return o(1,arguments),function(e,t,n){o(2,arguments);var i=I(e,n),s=I(t,n);return i.getTime()===s.getTime()}(e,Date.now(),t)}(l(n.date),{weekStartsOn:0})){const o=document.createElement("li");o.classList.add("item"),o.setAttribute("pos-attribute",i),o.setAttribute("id","todo-item");const s=document.createElement("div");s.classList.add("text"),s.setAttribute("id","todo-text"),s.innerHTML=n.title,o.appendChild(s);const d=document.createElement("div");d.classList.add("right"),o.appendChild(d);const r=document.createElement("button");r.classList.add("details"),r.classList.add("glass"),r.innerHTML="Details",d.appendChild(r);const a=document.createElement("div");a.classList.add("date"),a.innerHTML=n.date,d.appendChild(a);const c=document.createElement("div");c.classList.add("icons"),d.appendChild(c);const l=document.createElement("button");l.classList.add("edi-btn"),l.classList.add("glass"),l.innerHTML="<i class='bx bx-edit-alt'></i>",c.appendChild(l);const m=document.createElement("button");m.classList.add("del__btn"),m.classList.add("glass"),m.setAttribute("id","trash"),m.innerHTML="<i class='bx bx-trash'></i>",c.appendChild(m),t.appendChild(o),m.addEventListener("click",(()=>{N(i),console.log((()=>{for(let e=0;e<T.projectArray.length;e++)for(let t=0;t<T.storeTodo.length;t++)if(T.projectArray[e]===T.storeTodo[t].project)return T.projectInTodos=!0,T.projectInTodos;return T.projectInTodos=!1,T.projectInTodos})()),e()})),r.addEventListener("click",(()=>{document.getElementById("detail-window").classList.remove("hidden"),D(i)})),l.addEventListener("click",(()=>{document.getElementById("edit-window").classList.remove("hidden"),k(i)})),o.addEventListener("contextmenu",(e=>{e.preventDefault(),j(i),console.log(T.storeTodo),s.classList.toggle("completed")}))}})):localStorage.setItem("todos",JSON.stringify(T.storeTodo))},j=e=>{let t;t=T.storeTodo[e].complete,!1===t?(t=!0,T.storeTodo[e].complete=t):!0===t&&(t=!1,T.storeTodo[e].complete=t)},N=e=>{let t=JSON.parse(localStorage.getItem("todos"));T.storeTodo=t,T.storeTodo.splice(e,1),w(),B()},D=e=>{let t=JSON.parse(localStorage.getItem("todos"));const n=document.getElementById("detail-title"),o=document.getElementById("detail-desc"),i=document.getElementById("detail-date"),s=document.getElementById("detail-priority"),d=document.getElementById("detail-project");n.innerHTML=t[e].title,o.innerHTML=t[e].details,i.innerHTML=t[e].date,s.innerHTML=t[e].priority,d.innerHTML=t[e].project},k=e=>{let t=JSON.parse(localStorage.getItem("todos"));const n=document.getElementById("edit-item"),o=document.getElementById("edit-details"),i=document.getElementById("edit-date-input"),s=document.getElementById("edit-low-btn"),d=document.getElementById("edit-medium-btn"),r=document.getElementById("edit-high-btn");n.value=t[e].title,o.value=t[e].details,i.value=t[e].date,"low"===t[e].priority?(s.classList.add("chosen"),d.classList.remove("chosen"),r.classList.remove("chosen")):"medium"===t[e].priority?(d.classList.add("chosen"),s.classList.remove("chosen"),r.classList.remove("chosen")):"high"===t[e].priority&&(r.classList.add("chosen"),s.classList.remove("chosen"),d.classList.remove("chosen")),T.arrayIndex=e},S=document.getElementById("new-task"),H=document.getElementById("note-window"),C=document.getElementById("first-close"),M=document.getElementById("submit-btn"),x=document.getElementById("third-close"),A=document.getElementById("fourth-close"),O=document.getElementById("edit-window"),U=document.getElementById("edit-submit-btn"),J=document.getElementById("open-project"),P=document.getElementById("project-window"),Z=document.getElementById("second-close"),$=document.getElementById("sec-submit-btn"),z=document.getElementById("home-tab"),F=document.getElementById("today"),W=document.getElementById("week");S.addEventListener("click",(()=>{H.classList.remove("hidden")})),C.addEventListener("click",(()=>{H.classList.add("hidden")})),(()=>{const e=document.getElementById("low-btn"),t=document.getElementById("medium-btn"),n=document.getElementById("high-btn");e.addEventListener("click",(()=>{T.priority="low",n.classList.remove("chosen"),t.classList.remove("chosen"),e.classList.add("chosen")})),t.addEventListener("click",(()=>{T.priority="medium",e.classList.remove("chosen"),n.classList.remove("chosen"),t.classList.add("chosen")})),n.addEventListener("click",(()=>{T.priority="high",e.classList.remove("chosen"),t.classList.remove("chosen"),n.classList.add("chosen")}))})(),M.addEventListener("click",(()=>{(()=>{const e=document.getElementById("task-item"),t=document.getElementById("details"),n=document.getElementById("date-input"),o=document.getElementById("low-btn"),i=document.getElementById("medium-btn"),s=document.getElementById("high-btn");if(""===e.value||""===n.value||""===t.value)alert("Please fill in all the fields"),e.value="",t.value="",n.value="",T.priority="";else if(void 0===T.priority)alert("Please select how important this task is to you"),e.value="",t.value="",n.value="",T.priority="";else{let d=e.value,r=t.value,a=n.value,c=T.project,l=((e,t,n,o,i,s)=>({title:e,details:t,date:n,priority:o,project:i,complete:s}))(d,r,a,T.priority,c,b);T.storeTodo.push(l),w(),e.value="",t.value="",n.value="",T.priority="",o.classList.remove("chosen"),s.classList.remove("chosen"),i.classList.remove("chosen")}})(),H.classList.add("hidden"),B()})),x.addEventListener("click",(()=>{document.getElementById("detail-window").classList.add("hidden")})),(()=>{const e=document.getElementById("edit-low-btn"),t=document.getElementById("edit-medium-btn"),n=document.getElementById("edit-high-btn");e.addEventListener("click",(()=>{T.priority="low",n.classList.remove("chosen"),t.classList.remove("chosen"),e.classList.add("chosen")})),t.addEventListener("click",(()=>{T.priority="medium",e.classList.remove("chosen"),n.classList.remove("chosen"),t.classList.add("chosen")})),n.addEventListener("click",(()=>{T.priority="high",e.classList.remove("chosen"),t.classList.remove("chosen"),n.classList.add("chosen")}))})(),U.addEventListener("click",(()=>{(()=>{let e=JSON.parse(localStorage.getItem("todos"));T.storeTodo=e;const t=document.getElementById("edit-item"),n=document.getElementById("edit-details"),o=document.getElementById("edit-date-input");let i=t.value,s=n.value,d=o.value;T.storeTodo[T.arrayIndex].title=i,T.storeTodo[T.arrayIndex].details=s,T.storeTodo[T.arrayIndex].date=d,T.storeTodo[T.arrayIndex].priority=T.priority,w()})(),O.classList.add("hidden"),B()})),A.addEventListener("click",(()=>{O.classList.add("hidden")})),J.addEventListener("click",(()=>{P.classList.remove("hidden")})),Z.addEventListener("click",(()=>{P.classList.add("hidden")})),$.addEventListener("click",(()=>{(()=>{const e=document.getElementById("project");let t;""===e.value?alert("Please fill in the value"):(t=e.value,T.projectArray.push(t),console.log(T.projectArray),e.value="")})(),P.classList.add("hidden")})),z.addEventListener("click",(()=>{document.getElementById("note-content-title").innerHTML="Home",T.project="Home",B(),F.classList.remove("active"),W.classList.remove("active"),z.classList.add("active"),S.classList.remove("hidden")})),F.addEventListener("click",(()=>{document.getElementById("note-content-title").innerHTML="Today",T.project="Today",B(),F.classList.add("active"),W.classList.remove("active"),z.classList.remove("active"),S.classList.add("hidden")})),W.addEventListener("click",(()=>{document.getElementById("note-content-title").innerHTML="Week",T.project="Week",B(),W.classList.add("active"),F.classList.remove("active"),z.classList.remove("active"),S.classList.add("hidden")})),B()})();