(()=>{"use strict";const e=()=>{localStorage.setItem("projects",JSON.stringify(T.projectArray))},t=()=>{const t=document.getElementById("project-list");t.textContent="";const s=document.getElementById("note-content-title");let i=JSON.parse(localStorage.getItem("projects"));i?i&&i.forEach(((e,i)=>{if("Home"!==e){const d=document.createElement("div");d.classList.add("project-container");const a=document.createElement("li");a.setAttribute("id","project-item");const r=document.createElement("div");r.classList.add("project-text"),r.innerHTML=e;const l=document.createElement("button");l.classList.add("del__btn-2"),l.classList.add("glass-two"),l.setAttribute("id","project-delete"),l.setAttribute("array-delete-pos",`${i}`),l.innerHTML="<i class='bx bx-trash'></i>",a.appendChild(r),d.appendChild(a),d.appendChild(l),t.appendChild(d),l.addEventListener("click",(()=>{n(i),s.innerText="Home",T.project="Home",N()})),a.addEventListener("click",(()=>{o(i),N()}))}})):e()},n=n=>{let o=JSON.parse(localStorage.getItem("projects"));T.projectArray=o,T.projectArray.splice(n,1),e(),t(),(()=>{let t=JSON.parse(localStorage.getItem("projects")),n=JSON.parse(localStorage.getItem("todos"));T.projectArray=t,T.storeTodo=n;let o=T.storeTodo.filter((e=>!T.projectArray.includes(e.project)));T.storeTodo=T.storeTodo.filter((e=>!o.includes(e))),B(),e(),N()})()},o=e=>{let t=JSON.parse(localStorage.getItem("projects"));document.getElementById("note-content-title").innerHTML=t[e],T.project=t[e],T.selectedProject=t[e]};function s(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function d(e){s(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===i(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function a(e){s(1,arguments);var t=d(e);return t.setHours(0,0,0,0),t}Math.pow(10,8);var r=6e4,l=36e5;function c(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function m(e,t){var n;s(1,arguments);var o=c(null!==(n=null==t?void 0:t.additionalDigits)&&void 0!==n?n:2);if(2!==o&&1!==o&&0!==o)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!=typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var i,d=function(e){var t,n={},o=e.split(u.dateTimeDelimiter);if(o.length>2)return n;if(/:/.test(o[0])?t=o[0]:(n.date=o[0],t=o[1],u.timeZoneDelimiter.test(n.date)&&(n.date=e.split(u.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length))),t){var s=u.timezone.exec(t);s?(n.time=t.replace(s[1],""),n.timezone=s[1]):n.time=t}return n}(e);if(d.date){var a=function(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),o=e.match(n);if(!o)return{year:NaN,restDateString:""};var s=o[1]?parseInt(o[1]):null,i=o[2]?parseInt(o[2]):null;return{year:null===i?s:100*i,restDateString:e.slice((o[1]||o[2]).length)}}(d.date,o);i=function(e,t){if(null===t)return new Date(NaN);var n=e.match(p);if(!n)return new Date(NaN);var o=!!n[4],s=y(n[1]),i=y(n[2])-1,d=y(n[3]),a=y(n[4]),r=y(n[5])-1;if(o)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,a,r)?function(e,t,n){var o=new Date(0);o.setUTCFullYear(e,0,4);var s=7*(t-1)+n+1-(o.getUTCDay()||7);return o.setUTCDate(o.getUTCDate()+s),o}(t,a,r):new Date(NaN);var l=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(h[t]||(E(e)?29:28))}(t,i,d)&&function(e,t){return t>=1&&t<=(E(e)?366:365)}(t,s)?(l.setUTCFullYear(t,i,Math.max(s,d)),l):new Date(NaN)}(a.restDateString,a.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var m,f=i.getTime(),I=0;if(d.time&&(I=function(e){var t=e.match(v);if(!t)return NaN;var n=L(t[1]),o=L(t[2]),s=L(t[3]);return function(e,t,n){return 24===e?0===t&&0===n:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,o,s)?n*l+o*r+1e3*s:NaN}(d.time),isNaN(I)))return new Date(NaN);if(!d.timezone){var b=new Date(f+I),T=new Date(0);return T.setFullYear(b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()),T.setHours(b.getUTCHours(),b.getUTCMinutes(),b.getUTCSeconds(),b.getUTCMilliseconds()),T}return m=function(e){if("Z"===e)return 0;var t=e.match(g);if(!t)return 0;var n="+"===t[1]?-1:1,o=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return function(e,t){return t>=0&&t<=59}(0,s)?n*(o*l+s*r):NaN}(d.timezone),isNaN(m)?new Date(NaN):new Date(f+I+m)}var u={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},p=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,v=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,g=/^([+-])(\d{2})(?::?(\d{2}))?$/;function y(e){return e?parseInt(e):1}function L(e){return e&&parseFloat(e.replace(",","."))||0}var h=[31,null,31,30,31,30,31,31,30,31,30,31];function E(e){return e%400==0||e%4==0&&e%100!=0}var f={};function I(){return f}function b(e,t){var n,o,i,a,r,l,m,u;s(1,arguments);var p=I(),v=c(null!==(n=null!==(o=null!==(i=null!==(a=null==t?void 0:t.weekStartsOn)&&void 0!==a?a:null==t||null===(r=t.locale)||void 0===r||null===(l=r.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==i?i:p.weekStartsOn)&&void 0!==o?o:null===(m=p.locale)||void 0===m||null===(u=m.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==n?n:0);if(!(v>=0&&v<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=d(e),y=g.getDay(),L=(y<v?7:0)+y-v;return g.setDate(g.getDate()-L),g.setHours(0,0,0,0),g}const T={storeTodo:[],priority:void 0,arrayIndex:void 0,project:"Home",projectArray:["Home"],selectedProject:void 0,projectInTodos:void 0},w=!1,B=()=>{localStorage.setItem("todos",JSON.stringify(T.storeTodo))},N=()=>{const e=document.getElementById("inputed-items");e.innerHTML="";let n=JSON.parse(localStorage.getItem("todos"));n?n&&n.forEach(((n,o)=>{if(T.project===n.project||"Home"===T.project||"Today"===T.project&&function(e){return s(1,arguments),function(e,t){s(2,arguments);var n=a(e),o=a(t);return n.getTime()===o.getTime()}(e,Date.now())}(m(n.date))||"Week"===T.project&&function(e,t){return s(1,arguments),function(e,t,n){s(2,arguments);var o=b(e,n),i=b(t,n);return o.getTime()===i.getTime()}(e,Date.now(),t)}(m(n.date),{weekStartsOn:0})){const s=document.createElement("li");s.classList.add("item"),s.setAttribute("pos-attribute",o),s.setAttribute("id","todo-item");const i=document.createElement("div");i.classList.add("text"),i.setAttribute("id","todo-text"),i.innerHTML=n.title,s.appendChild(i);const d=document.createElement("div");d.classList.add("right"),s.appendChild(d);const a=document.createElement("button");a.classList.add("details"),a.classList.add("glass"),a.innerHTML="Details",d.appendChild(a);const r=document.createElement("div");r.classList.add("date"),r.innerHTML=n.date,d.appendChild(r);const l=document.createElement("div");l.classList.add("icons"),d.appendChild(l);const c=document.createElement("button");c.classList.add("edi-btn"),c.classList.add("glass"),c.innerHTML="<i class='bx bx-edit-alt'></i>",l.appendChild(c);const m=document.createElement("button");if(m.classList.add("del__btn"),m.classList.add("glass"),m.setAttribute("id","trash"),m.innerHTML="<i class='bx bx-trash'></i>",l.appendChild(m),e.appendChild(s),m.addEventListener("click",(()=>{j(o),t()})),a.addEventListener("click",(()=>{document.getElementById("detail-window").classList.remove("hidden"),D(o)})),c.addEventListener("click",(()=>{document.getElementById("edit-window").classList.remove("hidden"),k(o)})),s.addEventListener("contextmenu",(e=>{e.preventDefault(),S(o),i.classList.toggle("completed")})),!0===n.complete){if(i.classList.contains("completed"))return;i.classList.contains("completed")||i.classList.add("completed")}else if(!1===n.complete){if(!i.classList.contains("completed"))return;i.classList.contains("completed")&&i.classList.remove("completed")}}})):localStorage.setItem("todos",JSON.stringify(T.storeTodo))},S=e=>{let t,n=JSON.parse(localStorage.getItem("todos"));T.storeTodo=n,t=T.storeTodo[e].complete,!1===t?(t=!0,T.storeTodo[e].complete=t,B()):!0===t&&(t=!1,T.storeTodo[e].complete=t,B())},j=e=>{let t=JSON.parse(localStorage.getItem("todos"));T.storeTodo=t,T.storeTodo.splice(e,1),B(),N()},D=e=>{let t=JSON.parse(localStorage.getItem("todos"));const n=document.getElementById("detail-title"),o=document.getElementById("detail-desc"),s=document.getElementById("detail-date"),i=document.getElementById("detail-priority"),d=document.getElementById("detail-project");n.innerHTML=t[e].title,o.innerHTML=t[e].details,s.innerHTML=t[e].date,i.innerHTML=t[e].priority,d.innerHTML=t[e].project},k=e=>{let t=JSON.parse(localStorage.getItem("todos"));const n=document.getElementById("edit-item"),o=document.getElementById("edit-details"),s=document.getElementById("edit-date-input"),i=document.getElementById("edit-low-btn"),d=document.getElementById("edit-medium-btn"),a=document.getElementById("edit-high-btn");n.value=t[e].title,o.value=t[e].details,s.value=t[e].date,"low"===t[e].priority?(i.classList.add("chosen"),d.classList.remove("chosen"),a.classList.remove("chosen")):"medium"===t[e].priority?(d.classList.add("chosen"),i.classList.remove("chosen"),a.classList.remove("chosen")):"high"===t[e].priority&&(a.classList.add("chosen"),i.classList.remove("chosen"),d.classList.remove("chosen")),T.arrayIndex=e},H=document.getElementById("new-task"),C=document.getElementById("note-window"),M=document.getElementById("first-close"),O=document.getElementById("submit-btn"),x=document.getElementById("third-close"),A=document.getElementById("fourth-close"),J=document.getElementById("edit-window"),U=document.getElementById("edit-submit-btn"),P=document.getElementById("open-project"),Z=document.getElementById("project-window"),$=document.getElementById("second-close"),z=document.getElementById("sec-submit-btn"),F=document.getElementById("home-tab"),W=document.getElementById("today"),Y=document.getElementById("week");H.addEventListener("click",(()=>{C.classList.remove("hidden")})),M.addEventListener("click",(()=>{C.classList.add("hidden")})),(()=>{const e=document.getElementById("low-btn"),t=document.getElementById("medium-btn"),n=document.getElementById("high-btn");e.addEventListener("click",(()=>{T.priority="low",n.classList.remove("chosen"),t.classList.remove("chosen"),e.classList.add("chosen")})),t.addEventListener("click",(()=>{T.priority="medium",e.classList.remove("chosen"),n.classList.remove("chosen"),t.classList.add("chosen")})),n.addEventListener("click",(()=>{T.priority="high",e.classList.remove("chosen"),t.classList.remove("chosen"),n.classList.add("chosen")}))})(),O.addEventListener("click",(()=>{(()=>{const e=document.getElementById("task-item"),t=document.getElementById("details"),n=document.getElementById("date-input"),o=document.getElementById("low-btn"),s=document.getElementById("medium-btn"),i=document.getElementById("high-btn");if(""===e.value||""===n.value||""===t.value)alert("Please fill in all the fields"),e.value="",t.value="",n.value="",T.priority="";else if(void 0===T.priority)alert("Please select how important this task is to you"),e.value="",t.value="",n.value="",T.priority="";else{let d=e.value,a=t.value,r=n.value,l=T.project,c=((e,t,n,o,s,i)=>({title:e,details:t,date:n,priority:o,project:s,complete:i}))(d,a,r,T.priority,l,w);T.storeTodo.push(c),B(),e.value="",t.value="",n.value="",T.priority="",o.classList.remove("chosen"),i.classList.remove("chosen"),s.classList.remove("chosen")}})(),C.classList.add("hidden"),N(),t()})),x.addEventListener("click",(()=>{document.getElementById("detail-window").classList.add("hidden")})),(()=>{const e=document.getElementById("edit-low-btn"),t=document.getElementById("edit-medium-btn"),n=document.getElementById("edit-high-btn");e.addEventListener("click",(()=>{T.priority="low",n.classList.remove("chosen"),t.classList.remove("chosen"),e.classList.add("chosen")})),t.addEventListener("click",(()=>{T.priority="medium",e.classList.remove("chosen"),n.classList.remove("chosen"),t.classList.add("chosen")})),n.addEventListener("click",(()=>{T.priority="high",e.classList.remove("chosen"),t.classList.remove("chosen"),n.classList.add("chosen")}))})(),U.addEventListener("click",(()=>{(()=>{let e=JSON.parse(localStorage.getItem("todos"));T.storeTodo=e;const t=document.getElementById("edit-item"),n=document.getElementById("edit-details"),o=document.getElementById("edit-date-input");let s=t.value,i=n.value,d=o.value;T.storeTodo[T.arrayIndex].title=s,T.storeTodo[T.arrayIndex].details=i,T.storeTodo[T.arrayIndex].date=d,T.storeTodo[T.arrayIndex].priority=T.priority,B()})(),J.classList.add("hidden"),N()})),A.addEventListener("click",(()=>{J.classList.add("hidden")})),P.addEventListener("click",(()=>{Z.classList.remove("hidden")})),$.addEventListener("click",(()=>{Z.classList.add("hidden")})),z.addEventListener("click",(()=>{(()=>{const t=document.getElementById("project");let n;""===t.value?alert("Please fill in the value"):(n=t.value,T.projectArray.push(n),e(),t.value="")})(),Z.classList.add("hidden"),t()})),F.addEventListener("click",(()=>{document.getElementById("note-content-title").innerHTML="Home",T.project="Home",N(),t(),W.classList.remove("active"),Y.classList.remove("active"),F.classList.add("active"),H.classList.remove("hidden")})),W.addEventListener("click",(()=>{document.getElementById("note-content-title").innerHTML="Today",T.project="Today",N(),t(),W.classList.add("active"),Y.classList.remove("active"),F.classList.remove("active"),H.classList.add("hidden")})),Y.addEventListener("click",(()=>{document.getElementById("note-content-title").innerHTML="Week",T.project="Week",N(),t(),Y.classList.add("active"),W.classList.remove("active"),F.classList.remove("active"),H.classList.add("hidden")})),N(),t()})();